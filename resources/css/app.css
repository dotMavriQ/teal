@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   TEAL Theme System
   ============================================
   Themes are defined using CSS custom properties.
   To add a new theme:
   1. Add a new [data-theme="your-theme"] block
   2. Define all the same variables
   3. Add the theme option to config/themes.php
   ============================================ */

@layer base {
    /* Default/Normie Theme (Light) */
    :root,
    [data-theme="normie"] {
        /* Backgrounds */
        --color-bg-primary: 255 255 255;      /* white */
        --color-bg-secondary: 249 250 251;    /* gray-50 */
        --color-bg-tertiary: 243 244 246;     /* gray-100 */
        --color-bg-hover: 243 244 246;        /* gray-100 */
        --color-bg-active: 229 231 235;       /* gray-200 */

        /* Foregrounds/Text */
        --color-text-primary: 17 24 39;       /* gray-900 */
        --color-text-secondary: 75 85 99;     /* gray-600 */
        --color-text-tertiary: 107 114 128;   /* gray-500 */
        --color-text-muted: 156 163 175;      /* gray-400 */
        --color-text-inverted: 255 255 255;   /* white */

        /* Borders */
        --color-border-primary: 229 231 235;  /* gray-200 */
        --color-border-secondary: 209 213 219; /* gray-300 */
        --color-border-focus: 59 130 246;     /* blue-500 */

        /* Buttons */
        --color-btn-primary-bg: 37 99 235;    /* blue-600 */
        --color-btn-primary-hover: 29 78 216; /* blue-700 */
        --color-btn-primary-text: 255 255 255;
        --color-btn-secondary-bg: 255 255 255;
        --color-btn-secondary-hover: 249 250 251;
        --color-btn-secondary-text: 55 65 81; /* gray-700 */
        --color-btn-secondary-border: 209 213 219;
        --color-btn-danger-bg: 220 38 38;     /* red-600 */
        --color-btn-danger-hover: 185 28 28;  /* red-700 */
        --color-btn-danger-text: 255 255 255;

        /* Accents */
        --color-accent-primary: 37 99 235;    /* blue-600 */
        --color-accent-primary-hover: 29 78 216; /* blue-700 */
        --color-accent-secondary: 99 102 241; /* indigo-500 */

        /* Status Colors */
        --color-success: 34 197 94;           /* green-500 */
        --color-success-bg: 240 253 244;      /* green-50 */
        --color-success-text: 21 128 61;      /* green-700 */

        --color-warning: 245 158 11;          /* amber-500 */
        --color-warning-bg: 255 251 235;      /* amber-50 */
        --color-warning-text: 180 83 9;       /* amber-700 */

        --color-danger: 239 68 68;            /* red-500 */
        --color-danger-bg: 254 242 242;       /* red-50 */
        --color-danger-text: 185 28 28;       /* red-700 */

        --color-info: 59 130 246;             /* blue-500 */
        --color-info-bg: 239 246 255;         /* blue-50 */
        --color-info-text: 29 78 216;         /* blue-700 */

        /* Reading Status Colors */
        --color-status-want: 59 130 246;      /* blue-500 */
        --color-status-want-bg: 239 246 255;  /* blue-50 */
        --color-status-reading: 245 158 11;   /* amber-500 */
        --color-status-reading-bg: 255 251 235; /* amber-50 */
        --color-status-read: 34 197 94;       /* green-500 */
        --color-status-read-bg: 240 253 244;  /* green-50 */

        /* Stars */
        --color-star-filled: 250 204 21;      /* yellow-400 */
        --color-star-empty: 209 213 219;      /* gray-300 */

        /* Shadows */
        --color-shadow: 0 0 0;
        --shadow-opacity: 0.1;

        /* Input specific */
        --color-input-bg: 255 255 255;
        --color-input-text: 17 24 39;
        --color-input-border: 209 213 219;
        --color-input-focus-ring: 59 130 246;
        --color-input-placeholder: 156 163 175;

        /* Cards */
        --color-card-bg: 255 255 255;
        --color-card-border: 229 231 235;

        /* Links */
        --color-link: 37 99 235;
        --color-link-hover: 29 78 216;
    }

    /* Gruvbox Dark Material Theme */
    [data-theme="gruvbox-dark"] {
        /* Backgrounds */
        --color-bg-primary: 40 40 40;         /* bg0 #282828 */
        --color-bg-secondary: 50 48 47;       /* bg0_s #32302f */
        --color-bg-tertiary: 60 56 54;        /* bg1 #3c3836 */
        --color-bg-hover: 80 73 69;           /* bg2 #504945 */
        --color-bg-active: 102 92 84;         /* bg3 #665c54 */

        /* Foregrounds/Text */
        --color-text-primary: 235 219 178;    /* fg #ebdbb2 */
        --color-text-secondary: 213 196 161;  /* fg2 #d5c4a1 */
        --color-text-tertiary: 189 174 147;   /* fg3 #bdae93 */
        --color-text-muted: 146 131 116;      /* gray #928374 */
        --color-text-inverted: 40 40 40;      /* bg0 */

        /* Borders */
        --color-border-primary: 80 73 69;     /* bg2 */
        --color-border-secondary: 102 92 84;  /* bg3 */
        --color-border-focus: 131 165 152;    /* blue #83a598 */

        /* Buttons */
        --color-btn-primary-bg: 131 165 152;  /* blue #83a598 */
        --color-btn-primary-hover: 157 191 178;
        --color-btn-primary-text: 40 40 40;   /* dark text on light button */
        --color-btn-secondary-bg: 60 56 54;   /* bg1 */
        --color-btn-secondary-hover: 80 73 69; /* bg2 */
        --color-btn-secondary-text: 235 219 178; /* fg */
        --color-btn-secondary-border: 102 92 84;
        --color-btn-danger-bg: 204 36 29;     /* red #cc241d */
        --color-btn-danger-hover: 251 73 52;  /* bright red #fb4934 */
        --color-btn-danger-text: 235 219 178;

        /* Accents */
        --color-accent-primary: 131 165 152;  /* blue #83a598 */
        --color-accent-primary-hover: 157 191 178;
        --color-accent-secondary: 211 134 155; /* purple #d3869b */

        /* Status Colors */
        --color-success: 184 187 38;          /* green #b8bb26 */
        --color-success-bg: 60 56 54;
        --color-success-text: 184 187 38;

        --color-warning: 250 189 47;          /* yellow #fabd2f */
        --color-warning-bg: 60 56 54;
        --color-warning-text: 250 189 47;

        --color-danger: 251 73 52;            /* red #fb4934 */
        --color-danger-bg: 60 56 54;
        --color-danger-text: 251 73 52;

        --color-info: 131 165 152;            /* blue */
        --color-info-bg: 60 56 54;
        --color-info-text: 131 165 152;

        /* Reading Status Colors */
        --color-status-want: 131 165 152;     /* blue */
        --color-status-want-bg: 60 56 54;
        --color-status-reading: 250 189 47;   /* yellow */
        --color-status-reading-bg: 60 56 54;
        --color-status-read: 184 187 38;      /* green */
        --color-status-read-bg: 60 56 54;

        /* Stars */
        --color-star-filled: 250 189 47;      /* yellow #fabd2f */
        --color-star-empty: 102 92 84;        /* bg3 */

        /* Shadows */
        --color-shadow: 0 0 0;
        --shadow-opacity: 0.5;

        /* Input specific */
        --color-input-bg: 60 56 54;           /* bg1 */
        --color-input-text: 235 219 178;      /* fg */
        --color-input-border: 102 92 84;      /* bg3 */
        --color-input-focus-ring: 131 165 152;
        --color-input-placeholder: 146 131 116;

        /* Cards */
        --color-card-bg: 50 48 47;
        --color-card-border: 80 73 69;

        /* Links */
        --color-link: 131 165 152;
        --color-link-hover: 142 192 124;      /* aqua #8ec07c */
    }
}

/* ============================================
   Global Component Styles (Theme-Aware)
   ============================================ */

@layer components {
    /* Form inputs, selects, textareas */
    input:not([type="checkbox"]):not([type="radio"]),
    select,
    textarea {
        background-color: rgb(var(--color-input-bg)) !important;
        color: rgb(var(--color-input-text)) !important;
        border-color: rgb(var(--color-input-border)) !important;
    }

    input:not([type="checkbox"]):not([type="radio"])::placeholder,
    textarea::placeholder {
        color: rgb(var(--color-input-placeholder)) !important;
    }

    input:not([type="checkbox"]):not([type="radio"]):focus,
    select:focus,
    textarea:focus {
        border-color: rgb(var(--color-input-focus-ring)) !important;
        --tw-ring-color: rgb(var(--color-input-focus-ring)) !important;
    }

    /* Checkboxes and radios */
    input[type="checkbox"],
    input[type="radio"] {
        background-color: rgb(var(--color-input-bg));
        border-color: rgb(var(--color-input-border));
    }

    input[type="checkbox"]:checked,
    input[type="radio"]:checked {
        background-color: rgb(var(--color-accent-primary));
        border-color: rgb(var(--color-accent-primary));
    }

    /* Select dropdown arrow fix for dark mode */
    select {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23928374' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    }

    [data-theme="normie"] select {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    }
}

/* Hide browser default search input icons */
input[type="search"]::-webkit-search-decoration,
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-results-button,
input[type="search"]::-webkit-search-results-decoration {
    -webkit-appearance: none;
    appearance: none;
}

/* Theme-aware utility classes */
@layer utilities {
    /* Buttons */
    .btn-primary {
        background-color: rgb(var(--color-btn-primary-bg));
        color: rgb(var(--color-btn-primary-text));
    }
    .btn-primary:hover {
        background-color: rgb(var(--color-btn-primary-hover));
    }

    .btn-secondary {
        background-color: rgb(var(--color-btn-secondary-bg));
        color: rgb(var(--color-btn-secondary-text));
        border-color: rgb(var(--color-btn-secondary-border));
    }
    .btn-secondary:hover {
        background-color: rgb(var(--color-btn-secondary-hover));
    }

    .btn-danger {
        background-color: rgb(var(--color-btn-danger-bg));
        color: rgb(var(--color-btn-danger-text));
    }
    .btn-danger:hover {
        background-color: rgb(var(--color-btn-danger-hover));
    }

    /* Links */
    .theme-link {
        color: rgb(var(--color-link));
    }
    .theme-link:hover {
        color: rgb(var(--color-link-hover));
    }
}

/* Dark theme specific fixes */
[data-theme="gruvbox-dark"] {
    /* Fix ring-offset to use dark background */
    --tw-ring-offset-color: rgb(var(--color-bg-secondary));

    /* Softer shadows for dark mode */
    .shadow, .shadow-sm, .shadow-md, .shadow-lg {
        --tw-shadow-color: rgba(0, 0, 0, 0.4);
    }
}
